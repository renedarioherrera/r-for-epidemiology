{"title":"Import Data","markdown":{"headingText":"Import Data","containsRefs":false,"markdown":"\n## Learning Objectives\n\nIn this chapter, readers will:\n\n-   identify how to import data from csv, xlsx, and sas7bdat files\n-   identify how `janitor::clean_names()` can make messy data, more neat\n\n## Introduction\n\nCommon file types to import may be one of:\n\n-   csv: comma separated value, a text file\n-   xlsx: a Microsoft Excel workbook or worksheet\n-   sas7bdat: SAS files\n\n## CSV\n\nThe `readr` package, loaded automatically with `library(tidyverse)`, is the package used to read and import csv files. Once loaded, the command to import a csv file is `read_csv(\"name-of-csv-file.csv\")`. If we were interested in [United States COVID-19 Community Levels by County](https://data.cdc.gov/Public-Health-Surveillance/United-States-COVID-19-Community-Levels-by-County/3nnm-4jni/data), and we had downloaded data in a csv file, we could import it by:\n\n```{r}\nlibrary(tidyverse) # load readr package from within tidyverse\nlibrary(janitor) # load janitor package\n\nmy_csv_data <- read_csv( # assign the csv file to a new object\n  file = \"data-raw/us-covid-19-community-level-by-county.csv\" # this is the file to read\n) %>%\n  clean_names() # clean up the variable names\n\nglimpse(my_csv_data) # get a glimpse of the data \n```\n\n## Excel\n\nThe `readxl` package, loaded with `library(readxl)`, is the package used to read and import xls and xlsx files. Once loaded, the command to import an Excel worksheet is `read_excel(\"name-of-excel-file.xlsx\")`. For example:\n\n```{r}\nlibrary(tidyverse) # load tidyverse package\nlibrary(readxl) # load readxl package\nlibrary(janitor) # load janitor package\n\nmy_excel_data <- read_excel( # assign the excel file to a new object\n  \"data-raw/us-covid-19-community-level-by-county.xlsx\" # name of excel file\n) %>%\n  clean_names() # clean up the variable names\n\nglimpse(my_excel_data) # get a glimpse of the data\n```\n\n## SAS\n\nThe `haven` package, loaded with `library(haven)`, is the package used to read and import SAS files. Once loaded, the command to import a SAS data set is `read_sas(\"name-of-sas-file.sas7bdat\")`. For example:\n\n```{r}\nlibrary(tidyverse) # load tidyverse package\nlibrary(haven) # load haven package\nlibrary(janitor) # load janitor package\n\nmy_sas_data <- read_sas( # assign the sas file to a new object\n  \"data-raw/us-covid-19-community-level-by-county.sas7bdat\" # name of sas file\n) %>%\n  clean_names() # clean up the variable names\n\nglimpse(my_sas_data)\n```\n\n## About the Data\n\nI used the following code to download the data:\n\n    library(tidyverse)\n    library(RSocrata)\n    library(janitor)\n\n    covid19 <- read.socrata(url = \"https://data.cdc.gov/resource/3nnm-4jni.json\") %>%\n      as_tibble() %>%\n      clean_names()\n\nAnd I saved a sample of the data to each of the three file types we discussed earlier in this section.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"05-import-data.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.36","bibliography":["references.bib"],"editor":"source","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"05-import-data.pdf"},"language":{},"metadata":{"block-headings":true,"bibliography":["references.bib"],"editor":"source","documentclass":"scrreprt"},"extensions":{"book":{}}}}}